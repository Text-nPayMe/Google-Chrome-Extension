<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>V Launcher</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans" type="text/css">
    <link
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
        rel="stylesheet"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
        crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css">

    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script src="jsencrypt-master/bin/jsencrypt.min.js"></script>
</head>
<body style="max-height: 600px;">
<input type="text" name="" id="">
<input type="text" name="" id="">
<input type="text" name="" id="">
<input type="text" name="" id="">
<input type="text" name="" id="">


<div>

    <div title="Введите сообщение" role="textbox" class="_13NKt copyable-text selectable-text" contenteditable="true" data-tab="10" dir="ltr" spellcheck="false">send 5000 dram to</div>

    <grammarly-extension>saasas</grammarly-extension>
</div>

<br>
<br>
<div>

    <input class="gLFyf gsfi" jsaction="paste:puy29d;" maxlength="2048" name="q" type="text" aria-autocomplete="both" aria-haspopup="false" autocapitalize="off" autocomplete="off" autocorrect="off" autofocus="" role="combobox" spellcheck="false" title="Search" value="" aria-label="Search" data-ved="0ahUKEwjr6IK5p_v2AhWLSvEDHRZGCZUQ39UDCAQ">
</div>

    <div id="gago"  style="top: 500px;position: absolute;">

        <input type="text" name="" aria-label="Message">

    </div>



    <!-- encypt -->

        <label for="privkey">Private Key</label><br/>
        <textarea id="privkey" rows="15" cols="65">-----BEGIN RSA PRIVATE KEY-----
    MIICXQIBAAKBgQDlOJu6TyygqxfWT7eLtGDwajtNFOb9I5XRb6khyfD1Yt3YiCgQ
    WMNW649887VGJiGr/L5i2osbl8C9+WJTeucF+S76xFxdU6jE0NQ+Z+zEdhUTooNR
    aY5nZiu5PgDB0ED/ZKBUSLKL7eibMxZtMlUDHjm4gwQco1KRMDSmXSMkDwIDAQAB
    AoGAfY9LpnuWK5Bs50UVep5c93SJdUi82u7yMx4iHFMc/Z2hfenfYEzu+57fI4fv
    xTQ//5DbzRR/XKb8ulNv6+CHyPF31xk7YOBfkGI8qjLoq06V+FyBfDSwL8KbLyeH
    m7KUZnLNQbk8yGLzB3iYKkRHlmUanQGaNMIJziWOkN+N9dECQQD0ONYRNZeuM8zd
    8XJTSdcIX4a3gy3GGCJxOzv16XHxD03GW6UNLmfPwenKu+cdrQeaqEixrCejXdAF
    z/7+BSMpAkEA8EaSOeP5Xr3ZrbiKzi6TGMwHMvC7HdJxaBJbVRfApFrE0/mPwmP5
    rN7QwjrMY+0+AbXcm8mRQyQ1+IGEembsdwJBAN6az8Rv7QnD/YBvi52POIlRSSIM
    V7SwWvSK4WSMnGb1ZBbhgdg57DXaspcwHsFV7hByQ5BvMtIduHcT14ECfcECQATe
    aTgjFnqE/lQ22Rk0eGaYO80cc643BXVGafNfd9fcvwBMnk0iGX0XRsOozVt5Azil
    psLBYuApa66NcVHJpCECQQDTjI2AQhFc1yRnCU/YgDnSpJVm1nASoRUnU8Jfm3Oz
    uku7JUXcVpt08DFSceCEX9unCuMcT72rAQlLpdZir876
    -----END RSA PRIVATE KEY-----</textarea><br/>
        <label for="pubkey">Public Key</label><br/>
        <textarea id="pubkey" rows="15" cols="65">-----BEGIN PUBLIC KEY-----
    MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDlOJu6TyygqxfWT7eLtGDwajtN
    FOb9I5XRb6khyfD1Yt3YiCgQWMNW649887VGJiGr/L5i2osbl8C9+WJTeucF+S76
    xFxdU6jE0NQ+Z+zEdhUTooNRaY5nZiu5PgDB0ED/ZKBUSLKL7eibMxZtMlUDHjm4
    gwQco1KRMDSmXSMkDwIDAQAB
    -----END PUBLIC KEY-----</textarea><br/>
        <label for="input">Text to encrypt:</label><br/>
        <textarea id="input" name="input" type="text" rows=4 cols=70>This is a test!</textarea><br/>
        <input id="testme" type="button" value="Test Me!!!" /><br/>


</body>
<script src="script.js"></script>
<script src="content.js"></script>

<script type="text/javascript">

    // Call this code when the page is done loading.
    $(function() {

      // Run a quick encryption/decryption when they click.
      $('#testme').click(function() {

        // // Encrypt with the public key...
        var encrypt = new JSEncrypt();
        // console.log(encrypt, 'encrypt');
        // encrypt.setPublicKey($('#pubkey').val());
        // var encrypted = encrypt.encrypt($('#input').val());
        // console.log(encrypted, 'encrypted');

        // // Decrypt with the private key...
        // var decrypt = new JSEncrypt();
        // decrypt.setPrivateKey($('#privkey').val());
        // var uncrypted = decrypt.decrypt('encrypted');

        // console.log(uncrypted, 'uncrypted');

        // // Now a simple check to see if the round-trip worked.
        // if (uncrypted == $('#input').val()) {
        //   alert('It works!!!');
        // }
        // else {
        //   alert('Something went wrong....');
        // }

        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");

        encrypt.setPublicKey($('#pubkey').val());
        var phone = encrypt.encrypt("+37491142700");
        var password = encrypt.encrypt("654321");
        // var phone = "+37491142700";
        // var password = "654321";
        var raw = JSON.stringify({"phone": phone,"password":password});

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch("http://localhost:3000/users/login", requestOptions)
        .then(response => response.text())
        .then(result => console.log(result))
        .catch(error => console.log('error', error));


      });
    });
  </script>
</html>
